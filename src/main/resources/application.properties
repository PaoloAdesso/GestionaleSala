# =============================================================================
# GESTIONALE SALA - SISTEMA CASSA/AMMINISTRAZIONE
# =============================================================================

# Configurazione applicazione
spring.application.name=GestionaleSala
server.port=8081

# =============================================================================
# DATABASE POSTGRESQL CONDIVISO
# =============================================================================

spring.datasource.url=jdbc:postgresql://localhost:5432/progetto_ristorazione
spring.datasource.username=postgres
spring.datasource.password=admin
spring.datasource.driver-class-name=org.postgresql.Driver

# =============================================================================
# JPA/HIBERNATE - CONFIGURAZIONE AMMINISTRATIVA
# =============================================================================

spring.jpa.hibernate.ddl-auto=none
spring.jpa.open-in-view=true
spring.jpa.show-sql=false

# Debug SQL opzionale per il gestore
# logging.level.org.hibernate.SQL=DEBUG
# logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# =============================================================================
# FLYWAY MIGRATION - CONTROLLO AMMINISTRATIVO
# =============================================================================

spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true
spring.flyway.clean-disabled=false
spring.sql.init.mode=never
#spring.sql.init.mode=always

# =============================================================================
# SWAGGER UI - SISTEMA CASSA
# =============================================================================

springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/v3/api-docs
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.filter=true

# =============================================================================
# ACTUATOR - MONITORAGGIO AMMINISTRATIVO
# =============================================================================

management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# =============================================================================
# BUSINESS LOGIC - TURNI E SCHEDULAZIONI
# =============================================================================

# Turno lavorativo
ristorante.orario-chiusura-turno=06:00

# Schedulazioni automatiche in formato cron(solo nel sistema cassa)
ristorante.cron-reset-tavoli=0 0 6 * * *
ristorante.cron-eliminazione-ordini-settimana-precedente=10 0 6 * * MON
ristorante.cron-eliminazione-soft-ordini-giorno-precedente=20 0 6 * * *
